[["food-consumption-score-household-dietary-diversity.html", "Chapter 4 Food Consumption Score &amp; Household Dietary Diversity 4.1 Standardized Questionnaire 4.2 Calculation of FCS &amp; HDDS Indicators 4.3 References / Resources", " Chapter 4 Food Consumption Score &amp; Household Dietary Diversity 4.1 Standardized Questionnaire 4.1.1 Paper Version of Questionnaire Here is the standardized module in word format: RBDstandardized_questionnaireFCSHDDS 4.1.2 Electronic Version of Questionnaire Here is the standardized module in xlsform: RBDstandardized_questionnaireFCSHDDS 4.2 Calculation of FCS &amp; HDDS Indicators 4.2.1 Example data set Here is the example data set: dataFCSHDDSEng still need to create 4.2.2 SPSS Syntax to be added Here is the SPSS syntax file: not done yet 4.2.3 R Syntax library(haven) library(labelled) library(tidyverse) #import dataset dataFCSHDDSEng &lt;- read_sav(&quot;example_datasets/dataFCSHDDSEng.sav&quot;) #convert to labels dataFCSHDDSEng &lt;- to_factor(dataFCSHDDSEng) #calculate FCS dataFCSHDDSEng &lt;- dataFCSHDDSEng %&gt;% mutate(FCS = (2 * FCSStap) + (3 * FCSPulse)+ (4*FCSPr) +FCSVeg +FCSFruit +(4*FCSDairy) + (0.5*FCSFat) + (0.5*FCSSugar)) #create FCG groups based on 21/25 or 28/42 thresholds dataFCSHDDSEng &lt;- dataFCSHDDSEng %&gt;% mutate( FCSCat21 = case_when( FCS &lt;= 21 ~ &quot;Poor&quot;, between(FCS, 21.5, 35) ~ &quot;Borderline&quot;, FCS &gt; 35 ~ &quot;Acceptable&quot;), FCSCat28 = case_when( FCS &lt;= 28 ~ &quot;Poor&quot;, between(FCS, 28.5, 42) ~ &quot;Borderline&quot;, FCS &gt; 42 ~ &quot;Acceptable&quot;)) #calculate HDDS first by creating the 12 groups based on the 16 questions dataFCSHDDSEng &lt;- dataFCSHDDSEng %&gt;% mutate( HDDSStapCer = case_when(HDDSStapCer == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSStapRoot = case_when(HDDSStapRoot == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSVeg = case_when(HDDSVegOrg == &quot;Yes&quot; | HDDSVegGre == &quot;Yes&quot; | HDDSVegOth == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSFruit = case_when(HDDSFruitOrg == &quot;Yes&quot; | HDDSFruitOth == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSPrMeat = case_when(HDDSPrMeatF == &quot;Yes&quot; | HDDSPrMeatO == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSPrEgg = case_when(HDDSPrEgg == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSPrFish = case_when(HDDSPrFish == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSPulse = case_when(HDDSPulse == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSDairy = case_when(HDDSDairy == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSFat = case_when(HDDSFat == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSSugar = case_when(HDDSSugar == &quot;Yes&quot; ~ 1, TRUE ~ 0), HDDSCond = case_when(HDDSCond == &quot;Yes&quot;~ 1, TRUE ~ 0)) #Generate table of proportion of households in FCG by Adm1 and Adm2 using weights #Food Consumption Group 21/35 cutoff FCSCat_table_wide &lt;- dataFCSHDDSEng %&gt;% drop_na(FCSCat21) %&gt;% group_by(ADMIN1Name, ADMIN2Name) %&gt;% count(FCSCat21, wt = WeightHH) %&gt;% mutate(perc = 100 * n / sum(n)) %&gt;% ungroup() %&gt;% select(-n) %&gt;% spread(key = FCSCat21, value = perc) %&gt;% replace(., is.na(.), 0) %&gt;% mutate_if(is.numeric, round, 1) #Generate table of proportion of households by HDDS by Adm1 and Adm2 using weights #Food Consumption Group 21/35 cutoff HDDS_table_wide &lt;- dataFCSHDDSEng %&gt;% drop_na(HDDS) %&gt;% group_by(ADMIN1Name, ADMIN2Name) %&gt;% count(HDDS, wt = WeightHH) %&gt;% mutate(perc = 100 * n / sum(n)) %&gt;% ungroup() %&gt;% select(-n) %&gt;% spread(key = HDDS, value = perc) %&gt;% replace(., is.na(.), 0) %&gt;% mutate_if(is.numeric, round, 1) Here is the R syntax file: RBDstandardized_RsyntaxFCSHDDS 4.3 References / Resources FCS - https://documents.wfp.org/stellent/groups/public/documents/manual_guide_proced/wfp271449.pdf FCS_N - https://documents.wfp.org/stellent/groups/public/documents/manual_guide_proced/wfp277333.pdf HDDS - http://www.fao.org/fileadmin/user_upload/wa_workshop/docs/FAO-guidelines-dietary-diversity2011.pdf "]]
