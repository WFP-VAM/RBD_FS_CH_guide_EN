[["reduced-coping-strategy-index.html", "Chapter 4 reduced Coping Strategy Index 4.1 References / Resources 4.2 Standardized Questionnaire 4.3 Calculation of rCSI Indicator &amp; CH 4.4 Data Quality Monitoring &amp; Visualisation of rCSI Indicator", " Chapter 4 reduced Coping Strategy Index 4.1 References / Resources https://documents.wfp.org/stellent/groups/public/documents/manual_guide_proced/wfp211058.pdf https://documents.wfp.org/stellent/groups/public/documents/manual_guide_proced/wfp271449.pdf 4.2 Standardized Questionnaire Variable Name Question Label rCSILessQlty In the past 7 days, how many days has your household had to: Rely on less preferred and less expensive food because you did not have enough food or money to buy food? rCSIBorrow In the past 7 days, how many days has your household had to: Borrow food or rely on help from a relative or friend because you did not have enough food or money to buy food? rCSIMealSize In the past 7 days, how many days has your household had to: Limit portion size of meals because you did not have enough food or money to buy food? rCSIMealAdult In the past 7 days, how many days has your household had to: Restrict consumption by adults in order for small children to eat because you did not have enough food or money to buy food? rCSIMealNb In the past 7 days, how many days has your household had to: Reduce the number of meals eaten per day because you did not have enough food or money to buy food? 4.2.1 Paper Version of Questionnaire Here is the standardized module in word format: RBDstandardized_questionnairerCSI 4.2.2 Electronic Version of Questionnaire Here is the standardized module in xlsform: RBDstandardized_questionnairerCSI 4.3 Calculation of rCSI Indicator &amp; CH 4.3.1 Example data set Here is the example data set: datarCSIEng 4.3.2 SPSS Syntax GET FILE=&#39;datarCSIEng.sav&#39;. DATASET NAME DataSet1 WINDOW=FRONT. ** caculate rCSI compute rCSI = sum(rCSILessQlty,rCSIBorrow*2,rCSIMealSize,rCSIMealAdult*3,rCSIMealNb). Variable labels rCSI &quot;rCSI&quot;. ** each household should have a rCSI between 0 - 56 FREQUENCIES VARIABLES = rCSI /STATISTICS=MEAN MEDIAN MINIMUM MAXIMUM /ORDER=ANALYSIS. ** Create rCSI Cadre Harmonise Categories RECODE rCSI (0 thru 3=1) (4 thru 18=2) (19 thru 56=3) INTO rCSI_CH. variable labels rCSI_CH &quot;rCSI categories - Cadre Harmonise &quot;. value labels rCSI_CH 1 `Phase1` 2 `Phase2` 3 `Phase3`. ** Generate table of proportion of households in CH HHhS phases by Adm1 and Adm2 using weights WEIGHT BY WeightHH. CROSSTABS /TABLES=ADMIN2Name BY rCSI_CH BY ADMIN1Name /FORMAT=AVALUE TABLES /CELLS=ROW /COUNT ROUND CELL. Here is the SPSS syntax file: RBDstandardized_SPSSsyntaxrCSI 4.3.3 R Syntax library(haven) library(labelled) library(tidyverse) #import dataset datarCSIEng &lt;- read_sav(&quot;example_datasets/datarCSIEng.sav&quot;) #Calculate HHS datarCSIEng &lt;- to_factor(datarCSIEng) #calculate rCSI Score datarCSIEng &lt;- datarCSIEng %&gt;% mutate(rCSI = rCSILessQlty + (2 * rCSIBorrow) + rCSIMealSize + (3 * rCSIMealAdult) + rCSIMealNb) var_label(datarCSIEng$rCSI) &lt;- &quot;rCSI&quot; #each household should have a rCSI between 0 - 56 summary(datarCSIEng$rCSI) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 0.00 2.00 9.00 11.41 17.00 56.00 #Create rCSI Cadre Harmonise Categories datarCSIEng &lt;- datarCSIEng %&gt;% mutate(rCSI_CH = case_when( rCSI &lt;= 3 ~ &quot;Phase1&quot;, between(rCSI,4,18) ~ &quot;Phase2&quot;, rCSI &gt;= 19 ~ &quot;Phase3&quot;)) var_label(datarCSIEng$rCSI_CH) &lt;- &quot;rCSI categories - Cadre Harmonise &quot; #Generate table of proportion of households in CH rCSI phases by Adm1 and Adm2 using weights CH_rCSI_table_wide &lt;- datarCSIEng %&gt;% group_by(ADMIN1Name, ADMIN2Name, ADMIN2Code) %&gt;% drop_na(rCSI_CH) %&gt;% count(rCSI_CH, wt = WeightHH) %&gt;% mutate(perc = 100 * n / sum(n)) %&gt;% ungroup() %&gt;% select(-n) %&gt;% spread(key = rCSI_CH, value = perc) %&gt;% replace(., is.na(.), 0) %&gt;% mutate_if(is.numeric, round, 1) #Calculate phasing of CH rCSI indicator for area (applying CH 20% rules) CH_rCSI_table_wide &lt;- CH_rCSI_table_wide %&gt;% mutate(rcsi23 = Phase2 + Phase3, rCSI_finalphase = case_when( Phase3 &gt;= 20 ~ 3, Phase2 &gt;= 20 | rcsi23 &gt;= 20 ~ 2, TRUE ~ 1)) %&gt;% select(ADMIN1Name, ADMIN2Name, ADMIN2Code, rCSI_Phase1 = Phase1, rCSI_Phase2 = Phase2, rCSI_Phase3 = Phase3, rCSI_finalphase) Here is the R syntax file: RBDstandardized_RsyntaxrCSI 4.4 Data Quality Monitoring &amp; Visualisation of rCSI Indicator 4.4.1 Mapping rCSI final phasing library(sf) #import shapefile of Nigeria NGA_shp2 &lt;- read_sf(&quot;example_datasets/NGA_shpfile/nga_admbnda_adm2_osgof_20190417.shp&quot;) %&gt;% filter(ADM1_EN %in% c(&quot;Adamawa&quot;,&quot;Borno&quot;,&quot;Yobe&quot;)) NGA_shp1 &lt;- read_sf(&quot;example_datasets/NGA_shpfile/nga_admbnda_adm1_osgof_20190417.shp&quot;) %&gt;% filter(ADM1_REF %in% c(&quot;Adamawa&quot;,&quot;Borno&quot;,&quot;Yobe&quot;)) #rename NGA_shp2 &lt;- NGA_shp2 %&gt;% rename(&quot;ADMIN2Code&quot; = &quot;ADM2_PCODE&quot;) #join shapefile to table of HHS phases CH_rCSI_shp &lt;- left_join(NGA_shp2, CH_rCSI_table_wide, by = &quot;ADMIN2Code&quot;) #CH color codes CH_colors = c(&quot;1&quot; = &quot;#c6ffc7&quot;, &quot;2&quot; = &quot;#ffe718&quot;, &quot;3&quot; = &quot;#e88400&quot;, &quot;4&quot; = &quot;#e02d00&quot;, &quot;5&quot; = &quot;#5e0803&quot;) maprCSI &lt;- CH_rCSI_shp %&gt;% ggplot() +geom_sf(aes(fill = as.factor(rCSI_finalphase))) +theme_void() +coord_sf(datum=NA) +labs(fill=&quot;rCSI phasing&quot;) +scale_fill_manual(values = CH_colors) +ggtitle(label= &quot;phasing of rCSI&quot;) +geom_sf(data=NGA_shp1, lwd=1.5, fill=NA) maprCSI 4.4.2 Data Quality Monitoring Compare rCSI CH phasing by admin1 and admin2 areas library(plotly) #Generate longtable of proportion of households in CH rCSI phases by Adm1 and Adm2 not using weights CH_rCSI_table_long &lt;- datarCSIEng %&gt;% group_by(ADMIN1Name, ADMIN2Name) %&gt;% drop_na(rCSI_CH) %&gt;% count(rCSI_CH) #make graph CH_rCSI_admin2_bargraph &lt;- CH_rCSI_table_long %&gt;% ggplot(aes(fill=rCSI_CH, y=n, x=ADMIN2Name)) +geom_bar(position=&quot;fill&quot;, stat=&quot;identity&quot;) +facet_wrap(. ~ ADMIN1Name, scales = &quot;free&quot;) +scale_fill_manual(values=c(&quot;#c6ffc7&quot;,&quot;#ffe718&quot;,&quot;#e88400&quot;,&quot;#e02d00&quot;, &quot;#5e0803&quot;)) +theme_minimal() +theme(axis.text.x = element_text(angle = 90)) +scale_y_continuous(labels = scales::percent)+ theme(axis.title.x = element_blank(), axis.title.y = element_blank()) #add title CH_rCSI_admin2_bargraph &lt;- CH_rCSI_admin2_bargraph +ggtitle(&quot;CH Phasing of rCSI Groups of Households by Admin2 Area&quot;) +theme(plot.title = element_text(hjust = 0.5)) ggplotly(CH_rCSI_admin2_bargraph) Examine HHS CH phasing by admin2 areas and enumerators library(plotly) #Generate longtable of proportion of households in CH rCSI phases by Adm1 and Adm2 and Operator - not using survey weights CH_rCSI_enumerators_tablelong &lt;- datarCSIEng %&gt;% group_by(ADMIN2Name, enum_cod) %&gt;% count(rCSI_CH) #make graph CH_rCSI_admin2enumerators_bargraph &lt;- CH_rCSI_enumerators_tablelong %&gt;% ggplot(aes(fill=rCSI_CH, y=n, x=enum_cod)) +geom_bar(position=&quot;fill&quot;, stat=&quot;identity&quot;) +facet_wrap(. ~ ADMIN2Name, scales = &quot;free&quot;) +scale_fill_manual(values=c(&quot;#c6ffc7&quot;,&quot;#ffe718&quot;,&quot;#e88400&quot;,&quot;#e02d00&quot;, &quot;#5e0803&quot;)) +theme_void() #add title CH_rCSI_admin2enumerators_bargraph &lt;- CH_rCSI_admin2enumerators_bargraph +ggtitle(&quot;CH Phasing of HHS of Households by Admin2 Area and Enumerator&quot;) +theme(plot.title = element_text(hjust = 0.5)) ggplotly(CH_rCSI_admin2enumerators_bargraph) "]]
