# Data Quality Monitoring Report

If survey teams are collecting data with Kobo/Ona/MoDa/ODK and regularly sending their submissions to a server, then they can quickly generate a data quality report with Rmarkdown to regularly track survey results and detect problems that may arise in the field with data collection.

The example report below has been generalized to visualize survey progress by geographic areas and calculated results of key CH indicators by geographic areas and by enumerators using the raw data set downloaded from the  Kobo/Ona/MoDa/ODK server.

## Overview of the steps

1. Download a .sav (spss) version of the dataset from Kobo/Ona/MoDa/ODK 

2. Create a folder on your machine ("C:" is recommended but not required) with the name of the survey (i.e. NGA_022021_EFSA) and create a sub-folder "1_RawData" - save your SPSS dataset in the "1_RawData" folder.

3. Save the [example_dqmonitoring_EN](https://github.com/WFP-VAM/RBD_FS_CH_guide_EN/blob/master/syntax/example_dqmonitoring_EN.rmd) in the main survey folder 

4. Open up [example_dqmonitoring_EN](https://github.com/WFP-VAM/RBD_FS_CH_guide_EN/blob/master/syntax/example_dqmonitoring_EN.rmd) and verify the code (below) refers to the correct name of file and folder location.

```{r, eval = F}
#set working directory 
setwd("C:/exampledataquality")

#import dataset and call it "dataset"
dataset <- read_sav("1_RawData/exampledataEnglish_raw.sav")
```

5. Also, if the variable name of the Enumerators is not `EnumName`, insert the following code 

```{r, eval = F}
#standardized enumerator name variable
dataset <- dataset %>% rename(EnumName = OLDNAMEOFENUMERATORVARIABLE) 
```

before this code:

```{r, eval = F}
#convert enumerator name back to code - because for data security reasons you dont want to publish the name of the operator
dataset$EnumName <- to_character(dataset$EnumName)
```

6. Modify the `tile` and author `fields` to your survey. 

```{r, eval = F}
title: "Example Data Quality Monitoring Report"
author: "WFP "
```
title: "Example Data Quality Monitoring Report"
author: "WFP "

6. Finally, click the Knit button and the report should generate (it might take a few minutes)

<iframe width="560" height="315" src="https://www.youtube.com/embed/6A5EpqqDOdk" frameborder="0" allowfullscreen></iframe>

(this video will be replaced with real one)

## Data Quality Monitoring Tools

### Example data set

Here is the example data set:
[exampledataEnglish_raw](https://github.com/WFP-VAM/RBD_FS_CH_guide_EN/blob/master/example_datasets/exampledataEnglish_raw.sav) 

### Example data quality report

Here is the syntax to generate the example data quality report:
[example_dqmonitoring_EN](https://github.com/WFP-VAM/RBD_FS_CH_guide_EN/blob/master/syntax/example_dqmonitoring_EN.rmd) 


### Outputs of Example data quality report

Here is the example data quality report:
[example_dqmonitoring_EN](https://github.com/WFP-VAM/RBD_FS_CH_guide_EN/blob/master/outputs/example_dqmonitoring_EN.html) 

## Troubleshooting & Going Further

This report has been designed to work with standardized variable names and indicators illustrated earlier in this guide. Experienced R users are free to modify the report to meet their specific needs.  

For any difficulties - contact rbd.vam@wfp.org

