--- 
title: "A Guide to Standardized Collection, Processing and Visualization of Cadre Harmonise Food Security Indicators"
author:
  - Research, Assesment and Monitoring (RAM) Unit
  - Regional Bureau for West & Central Africa, World Food Programme
  - rbd.vam@wfp.org
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
favicon: images/favicon.ico
---

# Purpose & How to use this Guide

This guide proposes a uniform set of tools for the collection, processing, analysis and visualization of food security direct evidence indicators and technical variables used in the Cadre Harmonise process.  

### A brief overview of the chapters in this guide:

[Chapter 2 Setting up R & Rstudio](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/setting-up-r-rstudio.html) how to install R & Rstudio software, how to add require packages and an overview on Rmarkdown (used to generate reports).

[Chapter 3 Gecodes](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/gecodes.html) explains how/why to put geo-codes into the data collection (xlsforms) to speed up mapping and data processing.

[Chapter 4 Household Hunger Scale](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/household-hunger-scale.html) paper and electronic versions of standardized questionnaire and syntax in SPSS/R for calculating the Household Hunger Scale indicator.

[Chapter 5 reduced Coping Strategy Index](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/reduced-coping-strategy-index.html) paper and electronic versions of standardized questionnaire and syntax in SPSS/R for calculating the reduced Coping Strategy Index indicator.

[Chapter 6 Food Consumption Score & Household Dietary Diversity](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/food-consumption-score-household-dietary-diversity.html) paper and electronic versions of standardized questionnaire and syntax in SPSS/R for calculating the Food Consumption Score/Groups and Household Dietary Diversity Score indicators.

[Chapter 7 Livelihood Coping Strategies](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/livelihood-coping-strategies.html) paper and electronic versions of standardized questionnaire and syntax in SPSS/R for calculating the maximum coping strategy used for CARI light version and ENA version of the Livelihood Coping Strategies module.

[Chapter 8 Combined Questionnaire & Syntaxes for all 5 indicators](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/combined-questionnaire-syntaxes-for-all-5-indicators.html) combines the questionnaires and syntaxes from chapter 4 - 7 for calculation of indicators.

[Chapter 9 Data Quality Monitoring Report](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/data-quality-monitoring-report.html) provides instructions and syntax for an example data quality report which can be run using R and is compatible with standardized variable names 

[Chapter 10 Calculating Matrice Intermediare](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/calculating-matrice-intermediare-direct-food-security-data.html) provides instructions and a generic syntax to produce a matrice intermediare of direct food security indicators and geocodes from the processed data set in spss format

[Chapter 11 Visualizing CH Direct Food security Indicators](https://wfp-vam.github.io/RBD_FS_CH_guide_EN/visualizing-ch-direct-food-security-indicators.html) provides instructions and a generic syntax for make maps and tables of the phasing of CH direct evdience indicators from the matrice intermediare or processed data set 

### About software

While use of the software R & Rstudio is necessary to produce the outputs in chapters 9, 10 and 11, users do not need to disrupt their normal data processing steps in SPSS.  Syntax for calculating indicators in SPSS is provided in chapters  4 - 8 and countries.

The R syntax used for the data quality monitoring report is compatible with the "raw data" that is downloaded from data collection servers (Kobo/MoDA etc.) and the R syntax used to produce the matrice intermediare is compatible with the "processed data" in spss format.  

### About the example datasets

For this guide, two "semi-fictitious" data sets were created by randomly selecting and de-identifying surveys.  The results are "safe" data sets that serve as a working examples for the syntaxes and processes illustrated in this guide:

[exampledataEnglish_raw](https://github.com/WFP-VAM/RBD_FS_CH_guide_EN/blob/master/example_datasets/exampledataEnglish_raw.sav) - is what a  "raw" data set should look like when downloaded from a ODK server in spss format.

[exampledataEnglish_processed](https://github.com/WFP-VAM/RBD_FS_CH_guide_EN/blob/master/example_datasets/exampledataEnglish_processed.sav) - is what a "processed data" typically looks like (i.e. with calculated variables, weights, and other data processing).  




# Setting up R & Rstudio 

## Installing R & Rstudio

<iframe width="560" height="315" src="https://www.youtube.com/embed/orjLGFmx6l4" frameborder="0" allowfullscreen></iframe>

### R

To download R, go to CRAN, the comprehensive R archive network https://cloud.r-project.org

### RStudio 

RStudio is an integrated development environment, or IDE, for R programming.  Download and install it from http://www.rstudio.com/download. 

## Installing packages

<iframe width="560" height="315" src="https://www.youtube.com/embed/-wTcDqJWSzA" frameborder="0" allowfullscreen></iframe>

After you install R & Rstuidio , you will also need to install some R packages. 

The above video, covers the topic but re-stated, to do what we need to do in this guide we'll need to install and load certain packages.

To install a package (tidyverse is an example, but it's a good example because it's a big pacakage that we will use a lot):

```{r, eval=FALSE}
install.packages("tidyverse")
```

To load a package (tidyverse example), you can type the syntax below.

```{r, eval=FALSE}
library(tidyverse)
```

## Using Rmarkdown

We'll use R Markdown to generate the reports in Chapter 9 and 11.  The video below, gives a nice introduction and overview of R markdown.

<iframe width="560" height="315" src="https://www.youtube.com/embed/v=DNS7i2m4sB0" frameborder="0" allowfullscreen></iframe>







